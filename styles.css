/* ========== Element Plus é£æ ¼ä¸»é¢˜å˜é‡ ========== */
:root{
  --el-color-primary: #409EFF;
  --el-color-primary-hover: #66b1ff;
  --el-color-primary-active: #3a8ee6;
  --el-color-success: #67c23a;
  --el-color-warning: #e6a23c;
  --el-color-danger:  #f56c6c;

  --el-text-color-primary:   #303133;
  --el-text-color-regular:   #606266;
  --el-text-color-secondary: #909399;
  --el-text-color-placeholder:#a8abb2;

  --el-border-color:   #dcdfe6;
  --el-border-dark:    #c0c4cc;
  --el-fill-light:     #f5f7fa;   /* é¡µé¢æµ…ç°èƒŒæ™¯ */
  --el-fill-lighter:   #f2f6fc;   /* æ‚¬åœæµ…è“ */
  --el-bg-surface:     #ffffff;

  --el-radius: 8px;
  --el-radius-sm: 6px;

  --el-shadow-sm: 0 1px 3px rgba(0,0,0,0.06);
  --el-shadow-md: 0 6px 18px rgba(0,0,0,0.08);
}
/* ç»†æ»šåŠ¨æ¡ */
*::-webkit-scrollbar{ width: 8px; height: 8px; }
*::-webkit-scrollbar-thumb{ background: #d8dee9; border-radius: 8px; }
*::-webkit-scrollbar-thumb:hover{ background: #c0c7d6; }

/* ========== å…¨å±€åŸºç¡€ ========== */
*{ box-sizing: border-box; }
html, body, #app{ height:100%; margin:0; }
body{
  background: var(--el-fill-light);
  color: var(--el-text-color-regular);
  font-family: "Microsoft YaHei UI","PingFang SC","Noto Sans SC","Segoe UI",Arial,sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* é»˜è®¤æŒ‰é’®/è¾“å…¥çš„ Element-like é£æ ¼ */
button, input, select, textarea{
  font: inherit;
  color: var(--el-text-color-regular);
}
button{
  height: 28px;
  padding: 0 12px;
  border: 1px solid var(--el-border-color);
  border-radius: var(--el-radius);
  background: var(--el-bg-surface);
  box-shadow: var(--el-shadow-sm);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  line-height: 1;
  cursor: pointer;
  transition: border-color .15s ease, background-color .15s ease, color .15s ease, box-shadow .15s ease, transform .02s ease-in;
  user-select: none;
}
button:hover{
  border-color: var(--el-border-dark);
  background: var(--el-fill-lighter);
}
button:active{ transform: translateY(1px); }
button:focus{ outline: none; box-shadow: 0 0 0 2px rgba(64,158,255,.15); }

input[type="text"], input[type="number"], select, textarea{
  height: 28px;
  border: 1px solid var(--el-border-color);
  border-radius: var(--el-radius-sm);
  background: var(--el-bg-surface);
  padding: 0 10px;
  outline: none;
  transition: border-color .15s ease, box-shadow .15s ease;
}
textarea{ height:auto; padding:10px; }
input::placeholder{ color: var(--el-text-color-placeholder); }
input:focus, select:focus, textarea:focus{
  border-color: var(--el-color-primary);
  box-shadow: 0 0 0 2px rgba(64,158,255,.12);
}

/* Primary è¯­ä¹‰æŒ‰é’®ï¼šåªç»™è„šæœ¬/å‘½ä»¤ç›¸å…³çš„æŒ‰é’®ç”¨ */
#cmdSave, #btnScriptRun, #btnScriptSave, #btnScriptNew, #btnScriptDelete{
  color: #fff;
  background: var(--el-color-primary);
  border-color: var(--el-color-primary);
}
#cmdSave:hover, #btnScriptRun:hover, #btnScriptSave:hover, #btnScriptNew:hover, #btnScriptDelete:hover{
  background: var(--el-color-primary-hover);
  border-color: var(--el-color-primary-hover);
}

#btnScriptStop{
  color: #fff;
  background: var(--el-color-danger);
  border-color: var(--el-color-danger);
}
#btnScriptStop:disabled{
  color: #fff; opacity: .5; cursor: not-allowed;
}

/* ========== é¡µé¢ä¸»å¸ƒå±€éª¨æ¶ ========== */
#app{
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 1fr 190px;
  grid-template-areas:
    "workspace"
    "controlBar";
  position: relative;
}

/* ========== ä¾§è¾¹æ ï¼ˆä¿ç•™äº¤äº’ä¿®å¤+Elementé£ï¼‰ ========== */
#sidebar{
  --side-btn: 32px;
  position: absolute; top:0; left:0; bottom:190px;
  width: 260px;
  background: var(--el-bg-surface);
  border-right: 1px solid var(--el-border-color);
  box-shadow: var(--el-shadow-sm);
  overflow: hidden;
  display: flex; flex-direction: column;
  transition: width .3s ease;
  z-index: 10;
}
#sidebar:not(.open){ width:56px; }           /* ç•¥å®½ä¸€ç‚¹æ›´åƒ EP æŠ˜å å®½ */

.sidebar-header{
  display: grid;
  grid-template-columns: var(--side-btn) 1fr; /* å±•å¼€ï¼šæŒ‰é’®åˆ—å›ºå®š */
  align-items: center;
  gap: 8px;
  padding: 10px;
  border-bottom: 1px solid var(--el-border-color);
  background: var(--el-bg-surface);
}
#sidebar:not(.open) .sidebar-header{
  grid-template-columns: var(--side-btn) 0;   /* æ”¶å›ï¼šæ ‡é¢˜åˆ—å®½ 0 */
  justify-items: center;
  gap: 0;
}

/* å¼€å…³æŒ‰é’®ä¸ä¸‹æ–¹å°æŒ‰é’®å¯¹é½ã€ä¸é—ªçƒ */
#toggleSidebar{
  width: var(--side-btn);
  height: var(--side-btn);
  display: inline-flex;
  align-items: center; justify-content: center;
  line-height: 1; padding: 0;
  border: 1px solid var(--el-border-color);
  border-radius: var(--el-radius);
  background: var(--el-bg-surface);
  box-shadow: var(--el-shadow-sm);
  cursor: pointer;
  z-index: 1;
}
#toggleSidebar:hover{ background: var(--el-fill-lighter); }
#toggleSidebar:focus{ outline: none; box-shadow: 0 0 0 2px rgba(64,158,255,.12); }

/* æ ‡é¢˜æ–‡å­—åªåšæ·¡å…¥ï¼Œé¿å…æŠ–åŠ¨å¹¶ä¸”ä¸æŒ¡ç‚¹å‡» */
#sidebar .sidebar-header span{
  max-width: 180px; overflow: hidden; white-space: nowrap;
  color: var(--el-text-color-primary);
  font-weight: 600;
  opacity: 0; transition: opacity .2s ease;
  pointer-events: none; user-select: none;
}
#sidebar.open .sidebar-header span{ opacity: 1; transition-delay: .35s; }

/* æ“ä½œåŒºï¼šå±•å¼€ä¸¤åˆ—ç½‘æ ¼ï¼Œæ”¶å›ç«–æ’å°æŒ‰é’® */
.sidebar-actions{ padding: 10px; gap: 10px; }
#sidebar.open .sidebar-actions{
  display: grid;
  grid-template-columns: 1fr;   /* ä¸€åˆ— */
  grid-auto-rows: 36px;
  gap: 8px;                      /* è¡Œè·ç¨å¾®å°ä¸€ç‚¹æ›´ç´§å‡‘ */
}
#sidebar:not(.open) .sidebar-actions{
  display: flex; flex-direction: column; align-items: center;
}

/* æ“ä½œåŒºæŒ‰é’®ï¼ˆElement é£æ ¼ï¼‰ */
#sidebar .sidebar-actions button{
  width: 100%;
  padding: 0 12px;
  border: 1px solid var(--el-border-color);
  border-radius: var(--el-radius);
  background: var(--el-bg-surface);
  box-shadow: var(--el-shadow-sm);
  font-size: 0;                 /* éšçœŸå®æ–‡å­—ï¼Œæ–‡å­—ç”¨ ::after æ§åˆ¶æ·¡å…¥ */
  gap: 6px;
}
#sidebar .sidebar-actions button:hover{
  border-color: var(--el-border-dark);
  background: var(--el-fill-lighter);
}
#sidebar:not(.open) .sidebar-actions button{
  flex: 0 0 var(--side-btn);
  width: var(--side-btn); height: var(--side-btn);
  padding: 0; gap: 0;
}

/* å›¾æ ‡ä¼ªå…ƒç´ ï¼ˆå‡ ä½•å±…ä¸­ï¼‰ */
#btnNew::before, #btnRefreshPorts::before{
  display:inline-block; line-height:1;
}
#btnNew::before{ content:"â•"; font-size:18px; }
#btnRefreshPorts::before{ content:"ğŸ”„"; font-size:18px; }

/* æ–‡å­—ä¸€ç›´å­˜åœ¨ï¼Œä½†åœ¨æ”¶èµ·æ—¶å®½åº¦=0 ä¸”é€æ˜ï¼Œä¸å ä½ */
#btnNew::after,
#btnRefreshPorts::after{
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;

  /* æ–‡æ¡ˆ */
  font-size: 14px;
  color: var(--el-text-color-regular);

  /* æ”¶èµ·æ€ï¼šä¸å ä½ã€ä¸æ˜¾ç¤º */
  max-width: 0;
  opacity: 0;
  margin-left: 0;

  /* å±•å¼€åå†æ˜¾ç¤ºï¼ˆå»¶è¿Ÿ 0.35sï¼Œç­‰ä¾§æ å®½åº¦åŠ¨ç”»ç»“æŸï¼‰ */
  transition:
    opacity .2s ease .35s,
    max-width 0s linear .35s,
    margin-left 0s linear .35s;
}

#btnNew::after{ content:"æ–°å»ºé¢æ¿"; }
#btnRefreshPorts::after{ content:"åˆ·æ–°ä¸²å£"; }

/* å±•å¼€æ€ï¼šæ”¾å¼€å®½åº¦ + æ˜¾ç¤º */
#sidebar.open #btnNew::after,
#sidebar.open #btnRefreshPorts::after{
  max-width: 200px;   /* è¶³å¤Ÿå®¹çº³æ–‡æœ¬ */
  opacity: 1;
  margin-left: 6px;
}

/* æ”¶å›æ—¶ï¼šç«‹åˆ»éšè—ï¼ˆæ— å»¶è¿Ÿï¼Œå…ˆéšå­—å†æ”¶èµ·å®½åº¦ï¼‰ */
#sidebar:not(.open) #btnNew::after,
#sidebar:not(.open) #btnRefreshPorts::after{
  transition-delay: 0s, 0s, 0s;
}
#sidebar .sidebar-header span,
#sidebar #panelList{
  transition: opacity .2s ease 0s;
}

/* å·¦ä¾§åˆ—è¡¨é‡Œçš„å¼€å…³å°å›¾æ ‡æŒ‰é’® */
.port-status{
  width: 22px; height: 22px; padding: 0;
  border-radius: 4px; line-height: 1;
  display: inline-flex; align-items: center; justify-content: center;
  font-size: 14px; cursor: pointer;
  border: 1px solid var(--el-border-color); background: #fff;
  box-shadow: var(--el-shadow-sm);
}
.port-status.open{
  color: #fff; background: #67c23a; border-color: #55b436;  /* ç»¿ï¼šå·²æ‰“å¼€ */
}
.port-status.closed{
  color: #fff; background: #409EFF; border-color: #3a8ee6;  /* è“ï¼šæœªæ‰“å¼€ */
}

/* é¢æ¿åˆ—è¡¨ï¼ˆæ·¡å…¥ï¼Œåç§°çœç•¥å·ï¼‰ */
#panelList{
  list-style:none; margin:0; padding: 0 10px 12px;
  overflow:auto; flex:1;
  opacity:0; transition: opacity .2s ease;
}
#sidebar.open #panelList{ opacity:1; transition-delay:.35s; }
#sidebar:not(.open) #panelList{ pointer-events:none; }
/* åˆ—è¡¨è¡Œæ”¹ä¸ºä¸‰åˆ—ï¼šå›¾æ ‡ | åç§° | æ“ä½œ */
#panelList li.port-row{
  display: grid;
  grid-template-columns: 26px 1fr auto;
  align-items: center;
  column-gap: 8px;
  padding: 8px 4px;
  border-bottom: 1px dashed var(--el-border-color);
}

/* åç§°æ­£å¸¸æ˜¾ç¤ºã€çœç•¥å· */
#panelList .port-name{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--el-text-color-primary);
  cursor: pointer;
}

/* å›¾æ ‡æŒ‰é’®ï¼ˆå‡ ä½•å±…ä¸­ï¼‰ */
.port-status{
  width: 22px; height: 22px; padding: 0;
  border-radius: 6px;
  border: 1px solid var(--el-border-color);
  background: #fff;
  display: inline-flex; align-items: center; justify-content: center;
  position: relative;
  cursor: pointer;
  box-shadow: var(--el-shadow-sm);
}
/* å…³é—­ï¼šè“åº•ç™½å°æ–¹å— */
.port-status.closed{
  background: #409EFF; border-color: #3a8ee6;
}
.port-status.closed::after{
  content: "";
  width: 9px; height: 9px;
  background: #fff;
  border-radius: 2px;
  display: block;
}
/* æ‰“å¼€ï¼šç»¿è‰²ï¼Œç™½è‰²å¯¹å‹¾ */
.port-status.open{
  background: #67c23a; border-color: #55b436;
}
.port-status.open::after{
  content: "âœ“";
  color: #fff;
  font-weight: 700;
  font-size: 12px;
  line-height: 1;
}

/* åˆ—è¡¨å³ä¾§æŒ‰é’®æ›´ç´§å‡‘ */
#panelList li .actions{
  display: flex;
  gap: 4px;                 /* åŸæ¥æ˜¯ 6pxï¼Œç¼©å° */
}
#panelList li .actions button{
  padding: 0 8px;           /* åŸæ¥ 12pxï¼Œç¼©å° */
  min-width: 44px;          /* ä¸¤å­—å®½å¤Ÿç”¨ */
  font-size: 14px;          /* å­—ä½“ç•¥å° */
}


/* ========== å·¥ä½œåŒº ========== */
#workspace{
  grid-area: workspace;
  position: relative;
  background: var(--el-fill-light);
  overflow: hidden;
}
#panes{ position:absolute; inset:0; }

/* é¢æ¿å¡ç‰‡ï¼ˆElement å¡ç‰‡é£ï¼‰ */
.pane{
  position:absolute;
  width:420px; height:240px; min-width:360px;
  background: var(--el-bg-surface);
  border: 1px solid var(--el-border-color);
  border-radius: var(--el-radius);
  box-shadow: var(--el-shadow-md);
  overflow:hidden;
  z-index:1;
}
.pane .title{
  height: 40px;
  display:flex; align-items:center; justify-content:space-between;
  padding: 0 10px;
  background: #fafcff;
  border-bottom: 1px solid var(--el-border-color);
  cursor: grab; user-select: none;
}
.pane .title .name{ font-weight: 600; color: var(--el-text-color-primary); }
.pane .title .btns button{ height:30px; padding:0 10px; border-radius: var(--el-radius-sm); }
.pane.active{ outline: 2px solid rgba(64,158,255,.35); }
.pane.hidden{ display:none; }
.pane .title .btns button{
  height: 28px;
  padding: 0 8px;
  border: 1px solid var(--el-border-color);
  border-radius: var(--el-radius-sm);
  background: #fff;
  box-shadow: var(--el-shadow-sm);
}
.pane .title .btns button:hover{ background: var(--el-fill-lighter); }
#panelList li:hover{
  background: #f9fbff;
  border-radius: 6px;
}

.pane .body{
  height: calc(100% - 40px);
  overflow:auto;
  font-family: ui-monospace, Menlo, Consolas, monospace;
  padding:10px;
  white-space: pre-wrap;
  line-height:1.35;
  color: var(--el-text-color-primary);
  background: var(--el-bg-surface);
}

/* æ‹–æ‹½/ç¼©æ”¾æ€ */
.pane .resizer{ position:absolute; right:0; bottom:0; width:12px; height:12px; cursor: se-resize; }
.pane.dragging{ cursor:grabbing !important; user-select:none; z-index:9; }
.pane.dragging .title{ user-select:none; }
.pane.dragging .btns button{ pointer-events:none; }
.pane, .pane .title, .pane .body{ -webkit-user-drag: none; }

/* ========== åº•éƒ¨åŠŸèƒ½åŒº ========== */
#bottomPanel{
  grid-area: controlBar;
  display:flex; height:190px;
  border-top:1px solid var(--el-border-color);
  background: var(--el-bg-surface);
  box-shadow: var(--el-shadow-sm) inset;
}

/* å·¦ä¾§ç«–ç›´å¯¼èˆªï¼ˆEP é£æ ¼ï¼‰ */
#bottomNav{
  width:58px; border-right:1px solid var(--el-border-color);
  background: #fbfcff;
  display:flex; flex-direction:column;
}
#bottomNav button{
  flex:1; border:none; border-bottom:1px solid var(--el-border-color);
  background: transparent; cursor:pointer; color: var(--el-text-color-regular);
  transition: background-color .15s ease, color .15s ease;
}
#bottomNav button:hover{ background: var(--el-fill-lighter); color: var(--el-color-primary); }
#bottomNav button.active{ background: var(--el-color-primary); color:#fff; font-weight:700; }

/* å³ä¾§å†…å®¹åŒº */
#bottomContent{
  flex:1; padding: 8px 10px 10px;     /* ä¸Šä¸‹éƒ½å°ä¸€ç‚¹ */
  overflow:hidden; display:flex; flex-direction:column;
}
#bottomContent .row{
  display:flex; align-items:center; gap:6px; margin-bottom:6px;  /* è¡Œè·æ›´ç´§å‡‘ */
}

/* å¯¹è¯æ¡† */
dialog{
  border: 1px solid var(--el-border-color);
  border-radius: var(--el-radius);
  padding: 12px 12px 16px;
  box-shadow: var(--el-shadow-md);
}

/* ========== å‘½ä»¤é¡µ ========== */
.cmd-layout{
  display: grid;
  grid-template-columns: 1fr 130px;
  gap: 10px;
  height: 100%;
  padding: 4px 0 10px;   /* ä¸Š 4pxï¼Œä¸‹ 10pxï¼Œæ”¶ç´§ */
  box-sizing: border-box;
}
.cmd-grid{
  height: calc(100% - 0px);
  display: flex;
  flex-wrap: wrap;
  gap: 8px;               /* å¡ç‰‡é—´è·ç¼©å°ä¸€ç‚¹ */
  padding: 4px 8px 12px;  /* é¡¶éƒ¨ 4pxï¼Œåº•éƒ¨ 12px */
  overflow: hidden;
  align-content: flex-start;
}
.cmd-card{
  display:flex; align-items:center;
  height:34px;
  flex: 1 1 300px; max-width: 460px;
  border:1px solid var(--el-border-color);
  border-radius: var(--el-radius-sm);
  padding:4px; background:#fff; font-size:13px;
  box-shadow: var(--el-shadow-sm);
}
.cmd-card .preview{
  flex:1; height:100%; border:1px dashed var(--el-border-color);
  border-radius: var(--el-radius-sm); padding:0 8px; overflow:hidden;
  white-space:nowrap; text-overflow:ellipsis; display:flex; align-items:center;
  font-size:13px; color: var(--el-text-color-regular);
}
.cmd-card .preview{
  border: 1px solid #e7ebf3;
  background: #fbfdff;
}
.cmd-card button.send{
  height:100%; flex:0 0 88px; padding:0 10px; line-height:1; font-size:13px;
  border-radius: var(--el-radius-sm);
}

.cmd-card.placeholder{ visibility:hidden; }

.cmd-tools{
  display:flex; flex-direction:column; gap:10px; padding: 8px 8px 16px;
}
.cmd-tools .pager{ display:flex; justify-content:center; gap:8px; }
.cmd-tools .repeat{ display:flex; align-items:center; gap:6px; }
.cmd-tools input[type="number"]{ width:90px; }

/* è‡ªåŠ¨å‘é€æ€é«˜äº®ï¼ˆç»†ä¸€ç‚¹ï¼ŒEP é£æ ¼ï¼‰ */
.cmd-card.auto{
  border-color: var(--el-color-primary);
  box-shadow: 0 0 0 2px rgba(64,158,255,.18), 0 6px 14px rgba(64,158,255,.10);
  animation: pulse-blue 1.2s ease-in-out infinite;
}
@keyframes pulse-blue{
  0%{   box-shadow: 0 0 0 2px rgba(64,158,255,.18), 0 6px 12px rgba(64,158,255,.08); }
  50%{  box-shadow: 0 0 0 2px rgba(64,158,255,.38), 0 10px 18px rgba(64,158,255,.16); }
  100%{ box-shadow: 0 0 0 2px rgba(64,158,255,.18), 0 6px 12px rgba(64,158,255,.08); }
}

/* ========== About & è„šæœ¬å·¥ä½œå®¤ ========== */
#page-about h3{ margin: 4px 0 8px; color: var(--el-text-color-primary); }

.script-layout{
  width: 920px; height: 520px;
  display:grid; grid-template-columns: 1fr 300px; gap: 14px;
}
#scriptEditor{
  width:100%; height:100%;
  font-family: ui-monospace, Menlo, Consolas, monospace;
  font-size:13px; line-height:1.45;
  border:1px solid var(--el-border-color);
  border-radius: var(--el-radius);
  padding:10px; background:#fff; box-shadow: var(--el-shadow-sm);
  resize:none; overflow:auto;
}
.script-side{ display:flex; flex-direction:column; }
.script-row{ display:flex; gap:10px; margin-bottom:10px; }
.script-list-wrap{
  border:1px solid var(--el-border-color);
  border-radius: var(--el-radius);
  padding:8px; height: 280px; overflow:auto; background:#fff; box-shadow: var(--el-shadow-sm);
}
#scriptList{ list-style:none; margin:0; padding:0; }
#scriptList li{
  padding:6px 8px; border-radius: var(--el-radius-sm); cursor:pointer;
}
#scriptList li:hover{ background: var(--el-fill-lighter); }
.script-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:12px; }
.hint{ font-size:12px; color: var(--el-text-color-secondary); margin-bottom:6px; word-break:break-all; }
/* ä¾§æ åº•éƒ¨ï¼šè®¾ç½®æŒ‰é’® */
.sidebar-footer{
  margin-top: auto;                 /* è´´åº• */
  padding: 10px;
  border-top: 1px solid var(--el-border-color);
  background: var(--el-bg-surface);
}
#btnSettings{
  width: 100%;
  height: 36px;
  font-size: 0;                     /* çœŸå®æ–‡å­—éšè—ï¼Œä¼ªå…ƒç´ æ§åˆ¶ */
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px;
  border: 1px solid var(--el-border-color);
  border-radius: var(--el-radius);
  background: var(--el-bg-surface);
  box-shadow: var(--el-shadow-sm);
}
#btnSettings::before{ content:"âš™"; font-size:18px; line-height:1; display:inline-block; }
/* è®¾ç½®æŒ‰é’®çš„æ–‡å­—ï¼šç»Ÿä¸€å»¶è¿Ÿæ·¡å…¥æ–¹æ¡ˆ */
#btnSettings::after{
  content: "è®¾ç½®";
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  font-size: 14px;
  color: var(--el-text-color-regular);

  /* æ”¶èµ·æ€ï¼šä¸å ä½ã€ä¸æ˜¾ç¤º */
  max-width: 0;
  opacity: 0;
  margin-left: 0;

  /* å±•å¼€ï¼šç­‰ä¾§æ å®½åº¦åŠ¨ç”»(0.3s)ç»“æŸå†å‡ºç°ï¼Œè¿™é‡Œå»¶è¿Ÿ 0.35s */
  transition:
    opacity .2s ease .35s,
    max-width 0s linear .35s,
    margin-left 0s linear .35s;
}
#sidebar.open #btnSettings::after{
  max-width: 200px;   /* è¶³å¤Ÿå®¹çº³â€œè®¾ç½®â€ä¸¤å­— */
  opacity: 1;
  margin-left: 6px;
}
/* æ”¶å›æ—¶ç«‹å³éšè—ï¼ˆæ— å»¶è¿Ÿï¼‰ï¼Œé¿å…æ”¶å›æ—¶æŒ¤å‹ */
#sidebar:not(.open) #btnSettings::after{
  transition-delay: 0s, 0s, 0s;
}
#sidebar:not(.open) #btnSettings{
  width: var(--side-btn);
  height: var(--side-btn);
  padding: 0;
  display: flex; align-items: center; justify-content: center;
  line-height: 1;
}
#sidebar:not(.open) #btnSettings::before{
  transform: translateX(6px);
}

/* è®¾ç½®å¯¹è¯æ¡†ï¼ˆElement Plus é£ï¼‰ */
#dlgSettings::backdrop{ background: rgba(0,0,0,.25); }
#dlgSettings{
  border: none; padding: 0;
  border-radius: var(--el-radius);
  overflow: hidden;
}
#dlgSettings .dlg{
  min-width: 420px;
  background: #fff;
  border: 1px solid var(--el-border-color);
  box-shadow: var(--el-shadow-md);
}
#dlgSettings .dlg-header{
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px; border-bottom: 1px solid var(--el-border-color);
  background: #fafcff;
}
#dlgSettings .dlg-title{ font-weight: 600; color: var(--el-text-color-primary); }
#dlgSettings .dlg-close{
  width: 28px; height: 28px; padding: 0; line-height: 1;
  border-radius: 6px;
}
#dlgSettings .dlg-body{ padding: 14px 16px; }

/* è®¾ç½®é¡¹ä¸€è¡Œ */
.setting-item{
  display: flex; align-items: center; justify-content: space-between;
  gap: 10px; padding: 10px 0;
}
.setting-label{ color: var(--el-text-color-primary); }

/* å¼€å…³ï¼ˆEPé£æ ¼ç¤ºä¾‹ï¼Œæ— åŠŸèƒ½ï¼‰ */
.el-switch{
  position: relative; display: inline-block; width: 44px; height: 22px;
}
.el-switch input{ display: none; }
.el-switch-core{
  position: absolute; inset: 0;
  background: #dcdfe6; border-radius: 999px; transition: background .2s;
}
.el-switch-core::after{
  content: ""; position: absolute; top: 2px; left: 2px;
  width: 18px; height: 18px; border-radius: 50%;
  background: #fff; box-shadow: var(--el-shadow-sm);
  transition: transform .2s;
}
.el-switch input:checked + .el-switch-core{ background: #409EFF; }
.el-switch input:checked + .el-switch-core::after{ transform: translateX(22px); }

#dlgSettings .dlg-footer{ padding: 10px 12px; border-top: 1px solid var(--el-border-color); text-align: right; }
.pane{ z-index: 1; }
.pane.active{ z-index: 10; }
.pane.dragging{ z-index: 11; }